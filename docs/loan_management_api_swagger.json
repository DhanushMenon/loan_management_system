{"swagger": "2.0", "info": {"title": "My API", "description": "API documentation for the Loan Management System", "termsOfService": "https://www.google.com/policies/terms/", "contact": {"email": "support@myapi.local"}, "license": {"name": "BSD License"}, "version": "v1"}, "host": "127.0.0.1:8000", "schemes": ["http"], "basePath": "/api", "consumes": ["application/json"], "produces": ["application/json"], "securityDefinitions": {"Bearer": {"type": "apiKey", "name": "Authorization", "in": "header", "description": "Enter JWT token like this: Bearer <your_token>"}}, "security": [{"Bearer": []}], "paths": {"/auth/login/": {"post": {"operationId": "auth_login_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Login"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Login"}}}, "tags": ["auth"]}, "parameters": []}, "/auth/register/": {"post": {"operationId": "auth_register_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/User"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/User"}}}, "tags": ["auth"]}, "parameters": []}, "/auth/resend-otp/": {"post": {"operationId": "auth_resend-otp_create", "description": "Resend OTP to the given email", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Email"}}], "responses": {"200": {"description": "OTP sent successfully"}, "400": {"description": "User not found or email already verified"}}, "tags": ["auth"]}, "parameters": []}, "/auth/verify-email/": {"post": {"operationId": "auth_verify-email_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/OTPVerification"}}], "responses": {"200": {"description": "Email verified successfully"}, "400": {"description": "Invalid OTP or OTP expired"}}, "tags": ["auth"]}, "parameters": []}, "/loans/": {"get": {"operationId": "loans_list", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/Loan"}}}}, "tags": ["loans"]}, "post": {"operationId": "loans_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Loan"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Loan"}}}, "tags": ["loans"]}, "parameters": []}, "/loans/{id}/": {"get": {"operationId": "loans_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Loan"}}}, "tags": ["loans"]}, "put": {"operationId": "loans_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Loan"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Loan"}}}, "tags": ["loans"]}, "patch": {"operationId": "loans_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Loan"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Loan"}}}, "tags": ["loans"]}, "delete": {"operationId": "loans_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["loans"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this loan.", "required": true, "type": "integer"}]}, "/loans/{id}/details/": {"get": {"operationId": "loans_details", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Loan"}}}, "tags": ["loans"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this loan.", "required": true, "type": "integer"}]}, "/loans/{id}/foreclose/": {"post": {"operationId": "loans_foreclose", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Loan"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Loan"}}}, "tags": ["loans"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this loan.", "required": true, "type": "integer"}]}, "/loans/{id}/make_payment/": {"post": {"operationId": "loans_make_payment", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Loan"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Loan"}}}, "tags": ["loans"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this loan.", "required": true, "type": "integer"}]}}, "definitions": {"Login": {"required": ["username", "password"], "type": "object", "properties": {"username": {"title": "Username", "type": "string", "minLength": 1}, "password": {"title": "Password", "type": "string", "minLength": 8}}}, "User": {"required": ["username", "email", "password"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "username": {"title": "Username", "description": "Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.", "type": "string", "pattern": "^[\\w.@+-]+$", "maxLength": 150, "minLength": 1}, "email": {"title": "Email", "type": "string", "format": "email", "maxLength": 254, "minLength": 1}, "password": {"title": "Password", "type": "string", "minLength": 8}, "role": {"title": "Role", "type": "string", "enum": ["admin", "user"]}}}, "Email": {"required": ["email"], "type": "object", "properties": {"email": {"title": "Email", "type": "string", "format": "email", "minLength": 1}}}, "OTPVerification": {"required": ["email", "otp"], "type": "object", "properties": {"email": {"title": "Email", "type": "string", "format": "email", "minLength": 1}, "otp": {"title": "Otp", "type": "string", "maxLength": 6, "minLength": 6}}}, "Loan": {"required": ["amount", "tenure", "interest_rate"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "amount": {"title": "Amount", "type": "string", "format": "decimal"}, "tenure": {"title": "Tenure", "type": "integer"}, "interest_rate": {"title": "Interest rate", "type": "number"}, "monthly_installment": {"title": "Monthly installment", "type": "string", "format": "decimal", "readOnly": true, "x-nullable": true}, "total_interest": {"title": "Total interest", "type": "string", "format": "decimal", "readOnly": true, "x-nullable": true}, "total_amount": {"title": "Total amount", "type": "string", "format": "decimal", "readOnly": true, "x-nullable": true}, "status": {"title": "Status", "type": "string", "enum": ["ACTIVE", "CLOSED"], "readOnly": true}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "user": {"title": "User", "type": "integer", "readOnly": true}}}}}